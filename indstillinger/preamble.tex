%!TEX root = ../report.tex
\documentclass[a4paper,12pt,twoside,openany]{memoir}

\usepackage[english]{babel}

\usepackage[utf8]{inputenc}

\usepackage[T1]{fontenc}

\usepackage{graphicx}

\usepackage{color}
\usepackage{xcolor}

\usepackage{moreverb}
\usepackage{fancyvrb}
\usepackage{listings}
\usepackage{caption}
\usepackage{courier}

\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{hyperref}
\usepackage{natbib}

\usepackage{wrapfig}

\usepackage{pdflscape}

\usepackage{lscape}

\usepackage{rotating}

\usepackage{lastpage}
\let\footruleskip\undefined
\usepackage{fancyhdr}

% Awesome todo notes
\usepackage[colorinlistoftodos]{todonotes}
\setlength{\marginparwidth}{2cm}
\reversemarginpar

% Cool chapter headings
\usepackage{tikz}
\usepackage{kpfonts}
\usepackage[explicit]{titlesec}
\newcommand*\chapterlabel{}
\titleformat{\chapter}
  {\gdef\chapterlabel{}
   \normalfont\sffamily\Huge\bfseries\scshape}
  {\gdef\chapterlabel{\thechapter\ }}{0pt}
  {\begin{tikzpicture}[remember picture,overlay]
    \node[yshift=-3cm] at (current page.north west)
      {\begin{tikzpicture}[remember picture, overlay]
        \draw[fill=lightgray] (0,0) rectangle
          (\paperwidth,3cm);
        \node[anchor=east,xshift=.9\paperwidth,rectangle,
              rounded corners=20pt,inner sep=11pt,
              fill=darkgray]
              {\color{white}\chapterlabel#1};
       \end{tikzpicture}
      };
   \end{tikzpicture}
  }
\titlespacing*{\chapter}{0pt}{50pt}{-60pt}

% Code
\lstset {
    basicstyle=\footnotesize\ttfamily,
    numbers=left,
    numberstyle=\tiny,
    stepnumber=1,
    numbersep=5pt,
    tabsize=2,
    language=C,
    extendedchars=true,
    breaklines=true,
    keywordstyle=\color{black}\bfseries,
    frame=b,
    stringstyle=\color{gray}\ttfamily,
    showspaces=false,
    showtabs=false,
    xleftmargin=17pt,
    framexleftmargin=17pt,
    framexrightmargin=5pt,
    framexbottommargin=4pt,
    showstringspaces=false
}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}
\renewcommand{\lstlistingname}{Code}

% C# language
\lstdefinelanguage{C#}
{
sensitive=true,
morekeywords=[1]{
abstract, as, base, break, case,
catch, checked, class, const, continue,
default, delegate, do, else, enum,
event, explicit, extern, false,
finally, fixed, for, foreach, goto, if,
implicit, in, interface, internal, is,
lock, namespace, new, null, operator,
out, override, params, private,
protected, public, readonly, ref,
return, sealed, sizeof, stackalloc,
static, struct, switch, this, throw,
true, try, typeof, unchecked, unsafe,
using, virtual, volatile, while, bool,
byte, char, decimal, double, float,
int, lock, object, sbyte, short, string,
uint, ulong, ushort, void,
from, where, select, group, into, orderby,
join, let, in, on, equals, by,
ascending, descending},
morecomment=[l]{//},
morecomment=[s]{/*}{*/},
morecomment=[l][keywordstyle4]{\#},
morestring=[b]",
morestring=[b]',
}

% Pretty section headings
\usepackage{titlesec}
\titleformat{\section}{\Large\bfseries}{\thesection \hspace{0.5em} #1}{1em}{\hrule\vspace{-1em}}

\input{indstillinger/makroer}

\setlrmarginsandblock{2.5cm}{2.5cm}{*}
\setulmarginsandblock{2.5cm}{2.5cm}{*}

\checkandfixthelayout

\raggedbottom