%!TEX root = ../report.tex
\documentclass[a4paper,12pt,twoside,openany]{memoir}

\usepackage[english]{babel}

\usepackage[utf8]{inputenc}

\usepackage[T1]{fontenc}

\usepackage{graphicx}

\usepackage{color}
\usepackage{xcolor}

\usepackage{moreverb}
\usepackage{fancyvrb}
\usepackage{listings}
\usepackage{array}
\usepackage{caption}
\usepackage{courier}
\usepackage{float}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{alltt}

\usepackage{hyperref}
\usepackage{natbib}

\usepackage{wrapfig}

\usepackage{pdflscape}

\usepackage{lscape}

\usepackage{rotating}
\usepackage{lastpage}
\let\footruleskip\undefined
\usepackage{fancyhdr}

% Awesome todo notes
\usepackage[colorinlistoftodos]{todonotes}
\setlength{\marginparwidth}{2cm}
\reversemarginpar

% Cool chapter headings
\usepackage{tikz}
\usepackage{kpfonts}
\usepackage[explicit]{titlesec}
\newcommand*\chapterlabel{}
\titleformat{\chapter}
  {\gdef\chapterlabel{}
   \normalfont\sffamily\Huge\bfseries\scshape}
  {\gdef\chapterlabel{\thechapter\ }}{0pt}
  {\begin{tikzpicture}[remember picture,overlay]
    \node[yshift=-3cm] at (current page.north west)
      {\begin{tikzpicture}[remember picture, overlay]
        \draw[fill=lightgray] (0,0) rectangle
          (\paperwidth,3cm);
        \node[anchor=east,xshift=.9\paperwidth,rectangle,
              rounded corners=20pt,inner sep=11pt,
              fill=darkgray]
              {\color{white}\chapterlabel#1};
       \end{tikzpicture}
      };
   \end{tikzpicture}
  }
\titlespacing*{\chapter}{0pt}{50pt}{-60pt}

% Code
\lstset {
    basicstyle=\ttfamily,
    numbers=left,
    numberstyle=\tiny,
    stepnumber=1,
    numbersep=5pt,
    tabsize=2,
    language=C,
    escapeinside={\%*}{*)},
    extendedchars=true,
    breaklines=true,
    keywordstyle=\color{black}\bfseries,
    frame=b,
    stringstyle=\color{gray}\ttfamily,
    showspaces=false,
    showtabs=false,
    xleftmargin=17pt,
    framexleftmargin=17pt,
    framexrightmargin=5pt,
    framexbottommargin=4pt,
    showstringspaces=false
}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[cmyk]{0.43, 0.35, 0.35,0.01}{\parbox{\textwidth}{\hspace{15pt}#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}
\renewcommand{\lstlistingname}{Code}

% C# language
\lstdefinelanguage{CSharp}
{
 morecomment = [l]{//}, 
 morecomment = [l]{///},
 morecomment = [s]{/*}{*/},
 morestring=[b]", 
 sensitive = true,
 morekeywords = {abstract,  event,  new,  struct,
   as,  explicit,  null,  switch,
   base,  extern,  object,  this,
   bool,  false,  operator,  throw,
   break,  finally,  out,  true,
   byte,  fixed,  override,  try,
   case,  float,  params,  typeof,
   catch,  for,  private,  uint,
   char,  foreach,  protected,  ulong,
   checked,  goto,  public,  unchecked,
   class,  if,  readonly,  unsafe,
   const,  implicit,  ref,  ushort,
   continue,  in,  return,  using,
   decimal,  int,  sbyte,  virtual,
   default,  interface,  sealed,  volatile,
   delegate,  internal,  short,  void,
   do,  is,  sizeof,  while,
   double,  lock,  stackalloc,   
   else,  long,  static,   
   enum,  namespace,  string}
}

% Pretty section headings
\usepackage{titlesec}
\titleformat{\section}{\Large\bfseries}{\thesection \hspace{0.5em} #1}{1em}{\hrule\vspace{-1em}}

\input{indstillinger/makroer}

\setlrmarginsandblock{2.5cm}{2.5cm}{*}
\setulmarginsandblock{2.5cm}{2.5cm}{*}

\checkandfixthelayout

\raggedbottom